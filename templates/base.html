<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reef Metrics</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    <style>
        :root {
            --reef-navy: #042f4b;      /* Brand Deep Navy */
            --reef-cyan: #00d2d3;      /* Brand Cyan */
            --reef-bg: #f8f9fa;
        }

        body { background-color: var(--reef-bg); }
        
        /* Reef Metrics Navbar Styling */
        .navbar { 
            background-color: var(--reef-navy) !important; 
            border-bottom: 3px solid var(--reef-cyan);
            padding: 0.25rem 1rem;
        }

        .navbar-brand { 
            display: flex;
            align-items: center;
            padding: 0;
        }

        /* Container for the high-detail SVG to prevent navbar bloat */
        .brand-logo-svg {
            height: 50px;
            width: auto;
            transition: transform 0.2s ease;
            /* Ensures the white background element in the SVG looks intentional */
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }

        .navbar-brand:hover .brand-logo-svg {
            transform: scale(1.02);
        }
        
        .card { border-radius: 0.75rem; border: 1px solid rgba(0,0,0,0.05); }
        .btn { border-radius: 0.5rem; font-weight: 500; }
        
        /* Hover effect for dashboard cards */
        .card-hover {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15) !important;
            cursor: pointer;
        }

        @media (max-width: 576px) {
            .brand-logo-svg { height: 35px; }
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark mb-4 sticky-top shadow-sm">
        <div class="container">
            <a class="navbar-brand" href="/">
                <svg class="brand-logo-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 667">
                    <path fill="#FEFEFE" transform="scale(1.6025 1.6025)" d="M0 0L639 0L639 416L0 416L0 0Z"/>
                    <defs>
                        <linearGradient id="gradient_0" gradientUnits="userSpaceOnUse" x1="159.90776" y1="318.5123" x2="202.20811" y2="50.227093">
                            <stop offset="0" stop-color="#00608E"/><stop offset="1" stop-color="#37E3BF"/>
                        </linearGradient>
                        <linearGradient id="gradient_1" gradientUnits="userSpaceOnUse" x1="259.46432" y1="299.73297" x2="259.41345" y2="292.89853">
                            <stop offset="0" stop-color="#ECF2F2"/><stop offset="1" stop-color="#BAFBFF"/>
                        </linearGradient>
                        <linearGradient id="gradient_2" gradientUnits="userSpaceOnUse" x1="177.63617" y1="159.14729" x2="183.41875" y2="60.834408">
                            <stop offset="0" stop-color="#3FCDBC"/><stop offset="1" stop-color="#85F0D2"/>
                        </linearGradient>
                        <linearGradient id="gradient_3" gradientUnits="userSpaceOnUse" x1="130.96834" y1="241.58089" x2="125.60395" y2="164.58449">
                            <stop offset="0" stop-color="#76DAD9"/><stop offset="1" stop-color="#D9F8F6"/>
                        </linearGradient>
                        <linearGradient id="gradient_4" gradientUnits="userSpaceOnUse" x1="118.39917" y1="179.10786" x2="116.8047" y2="154.78842">
                            <stop offset="0" stop-color="#DBF8F7"/><stop offset="1" stop-color="#FFFFFE"/>
                        </linearGradient>
                        <linearGradient id="gradient_5" gradientUnits="userSpaceOnUse" x1="210.21001" y1="229.50259" x2="208.0425" y2="170.20656">
                            <stop offset="0" stop-color="#8CE3DF"/><stop offset="1" stop-color="#C5F6F1"/>
                        </linearGradient>
                        <linearGradient id="gradient_6" gradientUnits="userSpaceOnUse" x1="80.219154" y1="346.88138" x2="263.11917" y2="318.96408">
                            <stop offset="0" stop-color="#03407D"/><stop offset="1" stop-color="#3EB8C8"/>
                        </linearGradient>
                    </defs>
                    <path fill="url(#gradient_0)" transform="scale(1.6025 1.6025)" d="M59.274 281.113C58.1393 276.223 56.4062 269.809 55.6061 265.02C51.4331 238.844 53.7053 212.045 62.2256 186.946C67.5322 171.237 74.7887 156.255 83.825 142.353C96.7166 122.641 114.849 105.729 129.665 87.4368C138.841 76.6055 147.289 64.4754 155.503 53.0659C163.161 42.4296 182.815 43.1912 190.751 53.4652C194.322 58.0878 197.651 62.2257 201.109 66.8608C205.773 73.1349 210.613 79.276 215.624 85.2767C229.787 102.129 245.849 117.866 258.699 135.878C266.41 146.688 272.647 159.733 278.336 171.698C283.477 182.51 285.466 190.712 287.913 202.255C293.927 229.595 292.982 258.009 285.165 284.889C283.821 289.451 281.808 294.47 280.142 298.989L279.802 300.258L276.619 306.725C270.509 304.159 265.443 304.106 259.224 303.744C244.936 302.911 234.569 306.88 221.962 313.001C217.224 315.301 212.409 317.457 207.129 318.615C208.329 311.977 206.661 304.745 208.595 298.226C212.049 286.588 243.76 269.821 253.703 259.896C257.91 255.696 258.768 251.52 258.739 245.704C258.718 241.493 257.728 236.494 254.58 233.442C252.37 231.3 249.494 230.618 246.488 230.66C243.291 230.704 239.993 231.431 237.19 233.001C228.925 237.629 233.744 245.853 231.444 252.839C230.925 254.417 229.709 255.789 228.555 256.942C223.64 261.851 217.491 265.987 212.055 270.32C209.434 272.41 206.968 275.004 204.161 276.814C203.371 277.324 202.66 277.622 201.706 277.62C200.891 277.171 200.435 276.89 200.291 275.912C198.961 266.859 202.672 266.992 208.345 263.938C212.714 261.586 221.231 253.971 223.608 249.958C223.478 234.515 214.638 228.233 202.297 238.942C198.521 242.218 193.591 250.356 197.258 255.15C198.083 256.228 200.164 256.086 201.391 256.079C201.897 257.54 202.349 259.347 202.769 260.859C202.61 260.857 202.451 260.854 202.293 260.85C198.121 260.735 193.815 260.671 190.49 257.758C182.045 250.361 191.583 220.958 183.6 212.664C181.302 210.275 178.438 208.665 175.084 208.627C171.558 208.586 166.628 209.963 164.129 212.6C163.385 213.384 162.922 214.23 162.72 215.295C162.1 218.564 162.462 222.457 162.48 225.797C162.503 232.216 162.503 238.635 162.686 245.053L163.096 262.461C163.146 264.291 163.138 268.894 163.852 270.413C168.448 280.188 182.85 287.54 187.515 296.909C189.755 301.408 189.336 316.698 189.448 322.624L176.553 322.215C176.627 315.102 177.009 306.079 176.101 298.982C175.932 297.665 174.852 295.69 173.958 294.642C170.038 290.041 165.45 291.669 159.91 291.179C161.702 287.993 162.753 286.321 163.758 282.756C160.296 270.172 151.32 274.577 143.47 271.057C141.27 270.07 131.408 258.765 129.137 256.035C125.669 251.773 121.217 249.549 115.722 249.112C106.594 248.386 98.9 255.993 101.058 265.206C102.555 271.593 109.44 275.997 114.172 280.125C118.639 284.022 124.451 287.308 129.867 289.638C138.278 293.176 148.219 293.025 157.234 293.372C157.131 303.375 159.076 304.024 168.092 306.362C168.424 310.567 168.155 315.278 168.365 319.647C156.29 316.832 150.355 313.671 139.41 309.4C122.382 302.757 102.257 296.991 83.9094 299.98C77.7939 300.977 73.6871 303.002 67.9497 304.298C65.8776 299.169 64.216 297.641 62.6896 291.468C73.0689 282.174 91.1866 280.926 103.005 288.289C104.053 288.941 107.521 291.659 108.563 291.423C108.709 288.117 95.0823 279.13 92.0801 277.538C90.5008 276.685 88.8126 276.052 87.0621 275.655C76.789 273.321 67.9923 275.55 59.274 281.113Z"/>
                    <path fill="url(#gradient_1)" transform="scale(1.6025 1.6025)" d="M239.752 290.689C239.808 291.592 239.725 292.171 240.287 292.814L241.376 292.485C253.156 294.077 269.314 289.798 280.142 298.989L279.802 300.258C275.045 300.56 273.515 297.637 270.584 296.846C261.56 294.41 248.689 294.234 239.501 294.237L239.752 290.689Z"/>
                    <path fill="#EEF9F9" transform="scale(1.6025 1.6025)" d="M238.913 284.611C240.992 284.714 243.18 284.786 245.246 284.965C243.225 287.5 243.027 289.998 241.376 292.485L241.113 292.194C240.808 292.457 240.621 292.587 240.287 292.814C239.725 292.171 239.808 291.592 239.752 290.689C239.497 288.797 239.249 286.453 238.913 284.611Z"/>
                    <path fill="url(#gradient_2)" transform="scale(1.6025 1.6025)" d="M153.344 71.8441C156.878 66.5094 164.101 53.9334 170.454 52.6293C173.656 51.9721 177.212 53.2788 179.85 55.0429C184.414 58.0944 196.385 74.9204 200.17 80.2025C210.125 92.9915 221.292 103.416 230.619 116.566C231.781 118.206 235.198 122.489 235.948 123.995C240.729 126.307 241.671 126.125 247.003 126.572C244.734 127.605 242.227 128.194 242.836 131.174C244.88 134.021 249.375 134.749 252.252 136.145C250.092 137.951 246.917 140.704 244.641 142.259L244.054 142.638C247.654 146.396 242.955 145.681 250.079 147.32C248.928 147.346 247.276 147.245 246.347 147.759C245.364 149.444 243.845 150.086 242.682 151.562L241.543 151.471C241.13 153.264 239.413 154.49 239.82 155.555C242.15 156.914 243.755 155.542 245.373 158.121C244.424 158.041 243.731 157.795 243.084 158.23C243.156 158.457 243.256 158.832 243.363 159.024C242.31 159.092 242.188 159.161 241.274 159.7C240.353 161.09 240.607 160.591 240.497 162.349C240.532 166.682 240.605 171.184 240.248 175.495C239.19 179.569 235.073 176.512 232.717 175.164C231.945 173.94 230.845 172.414 230.559 171.044C229.751 172.039 227.258 170.655 226.152 170.214C224.212 169.08 222.125 170.508 220.291 168.717C218.582 171.073 216.758 174.196 213.521 171.558C213.314 171.045 213.147 170.673 212.906 170.175C212.752 171.985 213.024 173.233 213.082 174.96C211.819 171.643 212.143 169.151 211.356 165.774C210.734 163.103 211.658 162.15 211.969 159.394C210.922 158.223 209.619 159.278 209.073 158.531C206.21 154.608 206.756 150.737 201.472 155.445C199.954 156.797 197.702 158.768 196.071 160.114L195.429 160.744C197.882 161.835 199.909 162.271 205.963 162.187L206.126 162.931C204.034 170.375 193.094 163.176 188.434 162.535C186.661 162.291 182.683 160.708 181.639 159.191C181.99 158.736 190.706 159.794 192.385 159.398C193.547 157.71 193.597 156.874 195.555 155.995C193.258 155.388 190.079 154.036 182.372 153.576C180.711 153.427 177.814 153.777 176.061 153.932C175.828 158.04 175.418 172.472 172.982 175.448L172.438 175.416C170.555 172.742 170.98 157.887 171.006 153.838C167.73 153.799 164.148 153.799 160.87 153.526C159.797 153.436 159.91 153.336 159.404 152.635C159.738 144.713 159.141 136.511 159.533 128.216Z"/>
                    <path fill="#FEFEFE" transform="scale(1.6025 1.6025)" d="M159.533 128.216C164.404 127.939 180.178 126.532 183.883 128.593C185.698 133.039 183.873 142.589 184.183 147.626C184.25 148.715 184.117 152.101 183.886 153.047C182.372 153.576 180.711 153.427 176.061 153.932C175.828 158.04 175.418 172.472 172.982 175.448L172.438 175.416C170.555 172.742 170.98 157.887 171.006 153.838C167.73 153.799 164.148 153.799 160.87 153.526C159.797 153.436 159.91 153.336 159.404 152.635C159.738 144.713 159.141 136.511 159.533 128.216Z"/>
                    <path fill="url(#gradient_3)" transform="scale(1.6025 1.6025)" d="M101.841 158.457C106.043 152.048 132.988 152.345 132.945 164.486C132.938 166.473 133.744 176.386 134.295 177.031L135.741 177.471C137.974 177.484 141.345 178.191 133.552 180.086L133.142 180.716C133.43 182.774 132.233 190.396 132.341 194.028C138.124 202.338 146.599 205.515 152.748 212.29C156.597 216.529 155.626 235.513 154.646 241.307C145.349 237.016 143.414 234.234 136.12 227.547C122.114 215.212 112.53 206.587 103.193 202.511C101.545 195.328 102.297 176.153 102.606 168.061C101.841 158.457 101.841 158.457 101.841 158.457Z"/>
                    <path fill="url(#gradient_4)" transform="scale(1.6025 1.6025)" d="M101.841 158.457C106.043 152.048 132.988 152.345 132.945 164.486C132.938 166.473 133.744 176.386 134.295 177.031L135.741 177.471C133.202 178.034 124.77 172.034 125.486 168.524C126.816 168.928 121.512 166.082 113.093 165.109C103.701 176.911 102.606 168.061 101.841 158.457Z"/>
                    <path fill="url(#gradient_5)" transform="scale(1.6025 1.6025)" d="M176.882 175.971C189.019 167.474 199.607 173.755 200.997 180.684C201.299 191.981 212.773 187.313 213.082 174.96C212.906 170.175 213.521 171.558 220.291 168.717C226.152 170.214 230.559 171.044 232.717 175.164C240.248 175.495 240.408 178.973 243.827 179.428C255.586 185.66 244.812 187.44 239.182 189.328C217.106 210.826 195.778 231.087 193.019 211.413C179.091 198.055 176.882 175.971 176.882 175.971Z"/>
                    <path fill="#FEFEFE" transform="scale(1.6025 1.6025)" d="M176.882 175.971C189.019 167.474 199.607 173.755 200.997 180.684C187.887 178.993 177.463 178.52 176.882 175.971Z"/>
                    <path fill="url(#gradient_6)" transform="scale(1.6025 1.6025)" d="M73.8573 312.831C86.0211 308.921 134.628 318.012 183.499 332.082C205.199 329.764 250.782 313.932 272.944 314.741C263.188 328.52 231.666 353.348 140.821 363.607C88.7121 332.028 73.8573 312.831 73.8573 312.831Z"/>
                    <path fill="#FEFEFE" transform="scale(1.6025 1.6025)" d="M262.83 327.907C227.371 340.755 137.688 341.465 103.882 329.349C96.7636 326.738 146.918 335.644 205.834 337.852C261.43 325.724 263.3 327.031 262.83 327.907Z"/>
                    <path fill="#35C3B9" transform="scale(1.6025 1.6025)" d="M309.956 135.271C328.86 135.437 365.783 146.941 354.296 182.532C372.041 207.87 354.46 208.215 340.02 185.069C325.5 185.383 325.772 208.138 310 208.293C309.856 159.966 309.956 135.271 309.956 135.271Z"/>
                    <path fill="#FEFEFE" transform="scale(1.6025 1.6025)" d="M325.478 147.834C353.872 163.3 350.581 168.945 325.336 172.564C325.238 164.404 325.478 147.834 325.478 147.834Z"/>
                    <path fill="#35C3B9" transform="scale(1.6025 1.6025)" d="M397.81 153.973C419.883 161.571 426.369 185.417 425.473 200.671C382.981 203.039 373.197 185.18 397.81 153.973Z"/>
                    <path fill="#FEFEFE" transform="scale(1.6025 1.6025)" d="M399.49 164.263C414.396 175.586 386.484 175.795 399.49 164.263Z"/>
                    <path fill="#35C3B9" transform="scale(1.6025 1.6025)" d="M457.775 153.68C477.699 161.227 484.981 185.302 483.426 200.527C431.642 184.962 457.775 153.68 457.775 153.68Z"/>
                    <path fill="#FEFEFE" transform="scale(1.6025 1.6025)" d="M456.387 164.222C471.981 175.569 444.792 176.257 456.387 164.222Z"/>
                    <path fill="#164762" transform="scale(1.6025 1.6025)" d="M312.585 230.829C343.171 264.646 361.986 231.265 372.558 284.73C361.503 284.691 361.625 251.67 349.604 271.928C339.659 277.02 324.272 283.748 312.585 230.829Z"/>
                    <path fill="#35C3B9" transform="scale(1.6025 1.6025)" d="M514.039 132.086C526.498 142.969 525.68 155.696 511.471 208.091C496.396 208.049 487.586 156.407 514.039 132.086Z"/>
                    <path fill="#164762" transform="scale(1.6025 1.6025)" d="M400.333 244.804C420.845 268.47 418.264 281.773 379.683 267.606C380.333 244.804 400.333 244.804 400.333 244.804Z"/>
                    <path fill="#FEFEFE" transform="scale(1.6025 1.6025)" d="M398.486 252.878C411.378 261.149 389.204 261.101 398.486 252.878Z"/>
                    <path fill="#164762" transform="scale(1.6025 1.6025)" d="M569.019 245.102C588.065 272.689 550.406 281.491 556.923 249.043C564.42 245.602 569.019 245.102 569.019 245.102Z"/>
                    <path fill="#164762" transform="scale(1.6025 1.6025)" d="M528.248 245.401C548.528 253.446 548.448 278.58 508.893 263.939C516.492 246.706 528.248 245.401 528.248 245.401Z"/>
                    <path fill="#164762" transform="scale(1.6025 1.6025)" d="M430.68 235.028C452.82 245.98 454.127 284.865 430.553 277.556C430.68 235.028 430.68 235.028 430.68 235.028Z"/>
                    <path fill="#35C3B9" transform="scale(1.6025 1.6025)" d="M353.351 306.308C586.777 307.368 302.572 307.464 353.351 306.308Z"/>
                    <path fill="#164762" transform="scale(1.6025 1.6025)" d="M470.977 252.089C485.445 245.165 471.139 285.264 460.357 245.422C470.21 245.668 470.977 252.089 470.977 252.089Z"/>
                    <path fill="#164762" transform="scale(1.6025 1.6025)" d="M490.724 245.276C502.37 285.442 490.888 285.135 490.724 245.276Z"/>
                    <path fill="#164762" transform="scale(1.6025 1.6025)" d="M496.345 226.68C507.329 237.593 486.696 227.947 496.345 226.68Z"/>
                </svg>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/"><i class="bi bi-house-door"></i> Dashboard</a></li>
                    
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Tools</a>
                        <ul class="dropdown-menu dropdown-menu-end shadow-sm">
                            <li><a class="dropdown-item" href="/tools/calculators"><i class="bi bi-calculator"></i> Dosing Calculator</a></li>
                            <li><a class="dropdown-item" href="/tools/dose-plan"><i class="bi bi-calendar-check"></i> Dose Planner</a></li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">Manage</a>
                        <ul class="dropdown-menu dropdown-menu-end shadow-sm">
                            <li><a class="dropdown-item" href="/settings/parameters">Parameters</a></li>
                            <li><a class="dropdown-item" href="/additives">Additives</a></li>
                            <li><a class="dropdown-item" href="/settings/test-kits">Test Kits</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item fw-bold text-primary" href="/admin/import"><i class="bi bi-arrow-down-up"></i> Data Center</a></li>
                            <li><a class="dropdown-item" href="/admin/merge-parameters">Merge Params</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container pb-5">
        {% block content %}{% endblock %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@2.1.0/dist/chartjs-plugin-annotation.min.js"></script>
</body>
</html>
