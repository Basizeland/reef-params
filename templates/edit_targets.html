{% extends "base.html" %}
{% block content %}
<h2>Targets: {{ tank.name }}</h2>
<form method="post">
  <table class="table align-middle mt-3">
    <thead><tr><th>Parameter</th><th>Target Range</th><th>Alert Range</th><th>Enabled</th></tr></thead>
    <tbody>
      {% for r in rows %}
      <tr>
        <td class="fw-bold">{{ r.parameter.name }} <small class="text-muted">{{ r.parameter.unit }}</small></td>
        <td>
           <div class="input-group input-group-sm">
             <input type="number" step="any" class="form-control" name="target_low_{{ r.key }}" value="{{ r.target_low }}" placeholder="Low">
             <span class="input-group-text">-</span>
             <input type="number" step="any" class="form-control" name="target_high_{{ r.key }}" value="{{ r.target_high }}" placeholder="High">
           </div>
        </td>
        <td>
           <div class="input-group input-group-sm">
             <input type="number" step="any" class="form-control" name="alert_low_{{ r.key }}" value="{{ r.alert_low }}" placeholder="Min">
             <span class="input-group-text">-</span>
             <input type="number" step="any" class="form-control" name="alert_high_{{ r.key }}" value="{{ r.alert_high }}" placeholder="Max">
           </div>
        </td>
        <td class="text-center">
           <input type="checkbox" class="form-check-input" name="enabled_{{ r.key }}" {% if r.enabled %}checked{% endif %}>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <button type="submit" class="btn btn-primary">Save Targets</button>
</form>
{% endblock %}
