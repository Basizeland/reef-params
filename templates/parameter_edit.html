{% extends "base.html" %}
{% block content %}
<h2>{% if param %}Edit{% else %}New{% endif %} Parameter</h2>
<form method="post" action="/settings/parameters/save" class="card p-4" style="max-width:500px">
  {% if param %}<input type="hidden" name="param_id" value="{{ param.id }}">{% endif %}
  <div class="mb-3"><label>Name</label><input name="name" class="form-control" value="{{ param.name if param else '' }}" required></div>
  <div class="mb-3"><label>Unit</label><input name="unit" class="form-control" value="{{ param.unit if param else '' }}"></div>
  <div class="mb-3"><label>Max Daily Change (Safety)</label><input type="number" step="any" name="max_daily_change" class="form-control" value="{{ param.max_daily_change if param else '' }}"></div>
  <div class="mb-3 form-check"><input type="checkbox" name="active" class="form-check-input" {% if not param or param.active %}checked{% endif %}><label class="form-check-label">Active</label></div>
  <button class="btn btn-success">Save</button>
  {% if param %}
  <button type="submit" formaction="/settings/parameters/{{ param.id }}/delete" class="btn btn-danger float-end" onclick="return confirm('Delete?');">Delete</button>
  {% endif %}
</form>
{% endblock %}
